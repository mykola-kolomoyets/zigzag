{"ast":null,"code":"var _jsxFileName = \"/Users/pc/KolomoyetsProjects/Study/project-zigzag/project-zigzag/client/src/views/game/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect } from \"react\";\nimport Row from \"../../components/row\";\nimport GameContext from \"../../store/context/game\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const checkRow = (content, row, column, field, lastTry) => {\n  let isAllowedToGo = true;\n\n  if (lastTry.row != undefined && lastTry.column != undefined) {\n    const deltaX = Math.abs(column - lastTry.column);\n    const deltaY = Math.abs(row - lastTry.row);\n    isAllowedToGo = Number(content) === 0 && (deltaX === 2 && deltaY === 1 || deltaX === 1 && deltaY === 2);\n  }\n\n  return isAllowedToGo;\n};\n\nconst Game = () => {\n  _s();\n\n  const {\n    data: {\n      fieldSize,\n      field,\n      currentNumber,\n      avaliableCells\n    },\n    setData: setGameData\n  } = GameContext.useContext();\n\n  const onCellClick = (row, column, field, lastTry) => {\n    const fieldCopy = field.slice();\n    console.log(lastTry.moves);\n    console.log('aaaa: ', avaliableCells);\n    const nextNumber = lastTry !== null && lastTry !== void 0 && lastTry.number ? Number(fieldCopy[lastTry.row][lastTry.column]) + 1 : 1;\n    fieldCopy[row][column] = nextNumber.toString();\n    console.log(fieldCopy, row, column, currentNumber);\n    setGameData({\n      field: fieldCopy,\n      lastTry: {\n        row,\n        column,\n        number: nextNumber,\n        moves: lastTry.moves + 1\n      }\n    });\n  };\n\n  useEffect(() => {\n    const field = Array(fieldSize.width).fill('0').map(() => Array(fieldSize.height).fill('0'));\n    setGameData({\n      field,\n      onCellClick\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fieldSize]);\n  const rows = useCallback(() => field.map((row, index) => /*#__PURE__*/_jsxDEV(Row, {\n    content: row,\n    number: index\n  }, `row${index}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this)), [field])();\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: rows\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Game, \"ku+++dpHo9vr8hgWizxZuIMRpqM=\");\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/Users/pc/KolomoyetsProjects/Study/project-zigzag/project-zigzag/client/src/views/game/index.tsx"],"names":["useCallback","useEffect","Row","GameContext","checkRow","content","row","column","field","lastTry","isAllowedToGo","undefined","deltaX","Math","abs","deltaY","Number","Game","data","fieldSize","currentNumber","avaliableCells","setData","setGameData","useContext","onCellClick","fieldCopy","slice","console","log","moves","nextNumber","number","toString","Array","width","fill","map","height","rows","index"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, VFC } from \"react\";\n\nimport Row from \"../../components/row\";\n\nimport GameContext, { Try } from \"../../store/context/game\";\n\nexport const checkRow = (content: string, row: number, column: number, field: string[][], lastTry: Try): boolean => {\n  let isAllowedToGo = true;\n\n  if (lastTry.row != undefined && lastTry.column != undefined) {\n    const deltaX = Math.abs(column - lastTry.column);\n    const deltaY = Math.abs(row - lastTry.row);\n\n    isAllowedToGo = Number(content) === 0 && (\n      ((deltaX === 2) && (deltaY === 1)) ||\n      ((deltaX === 1) && (deltaY === 2)));\n  }\n\n  return isAllowedToGo;\n}\n\nconst Game: VFC = () => {\n  const { data: {\n    fieldSize,\n    field,\n    currentNumber,\n    avaliableCells\n  }, setData: setGameData } = GameContext.useContext();\n\n\n  const onCellClick = (row: number, column: number, field: string[][], lastTry: Try) => {\n    const fieldCopy = field.slice();\n\n    console.log(lastTry.moves);\n    console.log('aaaa: ', avaliableCells);\n\n\n    const nextNumber = (lastTry?.number) ?\n      Number(fieldCopy[lastTry.row!][lastTry.column!]) + 1 :\n      1;\n\n    fieldCopy[row][column] = nextNumber.toString();\n\n\n    console.log(fieldCopy, row, column, currentNumber);\n\n    setGameData({\n      field: fieldCopy,\n      lastTry: {\n        row,\n        column,\n        number: nextNumber,\n        moves: lastTry.moves + 1\n      }\n    });\n  };\n\n  useEffect(() => {\n    const field = Array(fieldSize.width).fill('0').map(() => Array(fieldSize.height).fill('0'));\n\n    setGameData({\n      field,\n      onCellClick\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fieldSize]);\n\n\n  const rows = useCallback(() => field.map((row, index) => (\n    <Row key={`row${index}`} content={row} number={index} />))\n    , [field])();\n\n  return (\n    <section>\n      {rows}\n    </section>\n  )\n};\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}