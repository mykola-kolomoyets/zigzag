{"ast":null,"code":"var _jsxFileName = \"/Users/pc/KolomoyetsProjects/Study/project-zigzag/project-zigzag/client/src/views/game/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useCallback, useEffect } from \"react\";\nimport Row from \"../../components/row\";\nimport GameContext from \"../../store/context/game\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Game = () => {\n  _s();\n\n  const {\n    data: {\n      fieldSize,\n      field,\n      currentNumber\n    },\n    setData: setGameData\n  } = GameContext.useContext();\n\n  const onCellClick = (row, column, field, lastTry) => {\n    const fieldCopy = field.slice();\n    console.log(moves);\n    const nextNumber = lastTry !== null && lastTry !== void 0 && lastTry.number ? Number(fieldCopy[lastTry.row][lastTry.column]) + 1 : 1;\n    fieldCopy[row][column] = nextNumber.toString();\n    console.log(fieldCopy, row, column, currentNumber);\n    setGameData({\n      field: fieldCopy,\n      moves: moves + 1,\n      lastTry: {\n        row,\n        column,\n        number: nextNumber\n      }\n    });\n  };\n\n  useEffect(() => {\n    const field = Array(fieldSize.width).fill('0').map(() => Array(fieldSize.height).fill('0'));\n    setGameData({\n      field,\n      onCellClick\n    });\n  }, [fieldSize]);\n  const rows = useCallback(() => field.map((row, index) => /*#__PURE__*/_jsxDEV(Row, {\n    content: row,\n    number: index\n  }, `row${index}`, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this)), [field])();\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: rows\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Game, \"4VivoltJhLoQNrrbXxecwTMoEiQ=\");\n\n_c = Game;\nexport default Game;\n\nvar _c;\n\n$RefreshReg$(_c, \"Game\");","map":{"version":3,"sources":["/Users/pc/KolomoyetsProjects/Study/project-zigzag/project-zigzag/client/src/views/game/index.tsx"],"names":["useCallback","useEffect","Row","GameContext","Game","data","fieldSize","field","currentNumber","setData","setGameData","useContext","onCellClick","row","column","lastTry","fieldCopy","slice","console","log","moves","nextNumber","number","Number","toString","Array","width","fill","map","height","rows","index"],"mappings":";;;AAAA,SAASA,WAAT,EAAsBC,SAAtB,QAAqD,OAArD;AAEA,OAAOC,GAAP,MAAgB,sBAAhB;AAEA,OAAOC,WAAP,MAAiC,0BAAjC;;;AAEA,MAAMC,IAAS,GAAG,MAAM;AAAA;;AAEtB,QAAM;AAAEC,IAAAA,IAAI,EAAE;AACZC,MAAAA,SADY;AAEZC,MAAAA,KAFY;AAGZC,MAAAA;AAHY,KAAR;AAIHC,IAAAA,OAAO,EAAEC;AAJN,MAIsBP,WAAW,CAACQ,UAAZ,EAJ5B;;AAMA,QAAMC,WAAW,GAAG,CAACC,GAAD,EAAcC,MAAd,EAA8BP,KAA9B,EAAiDQ,OAAjD,KAAkE;AAClF,UAAMC,SAAS,GAAGT,KAAK,CAACU,KAAN,EAAlB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AAGA,UAAMC,UAAU,GAAIN,OAAD,aAACA,OAAD,eAACA,OAAO,CAAEO,MAAV,GACjBC,MAAM,CAACP,SAAS,CAACD,OAAO,CAACF,GAAT,CAAT,CAAwBE,OAAO,CAACD,MAAhC,CAAD,CAAN,GAAmD,CADlC,GAEjB,CAFF;AAIAE,IAAAA,SAAS,CAACH,GAAD,CAAT,CAAeC,MAAf,IAAyBO,UAAU,CAACG,QAAX,EAAzB;AAEAN,IAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ,EAAuBH,GAAvB,EAA4BC,MAA5B,EAAoCN,aAApC;AAEAE,IAAAA,WAAW,CAAC;AACVH,MAAAA,KAAK,EAAES,SADG;AAEVI,MAAAA,KAAK,EAAEA,KAAK,GAAG,CAFL;AAGVL,MAAAA,OAAO,EAAE;AACPF,QAAAA,GADO;AAEPC,QAAAA,MAFO;AAGPQ,QAAAA,MAAM,EAAED;AAHD;AAHC,KAAD,CAAX;AASH,GAvBD;;AAyBApB,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMM,KAAK,GAAGkB,KAAK,CAACnB,SAAS,CAACoB,KAAX,CAAL,CAAuBC,IAAvB,CAA4B,GAA5B,EAAiCC,GAAjC,CAAqC,MAAMH,KAAK,CAACnB,SAAS,CAACuB,MAAX,CAAL,CAAwBF,IAAxB,CAA6B,GAA7B,CAA3C,CAAd;AAEAjB,IAAAA,WAAW,CAAC;AACVH,MAAAA,KADU;AAEVK,MAAAA;AAFU,KAAD,CAAX;AAID,GAPQ,EAON,CAACN,SAAD,CAPM,CAAT;AAUA,QAAMwB,IAAI,GAAG9B,WAAW,CAAC,MAAMO,KAAK,CAACqB,GAAN,CAAU,CAACf,GAAD,EAAMkB,KAAN,kBACvC,QAAC,GAAD;AAAyB,IAAA,OAAO,EAAElB,GAAlC;AAAuC,IAAA,MAAM,EAAEkB;AAA/C,KAAW,MAAKA,KAAM,EAAtB;AAAA;AAAA;AAAA;AAAA,UAD6B,CAAP,EAEpB,CAACxB,KAAD,CAFoB,CAAX,EAAb;AAIA,sBACE;AAAA,cACGuB;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD,CApDD;;GAAM1B,I;;KAAAA,I;AAsDN,eAAeA,IAAf","sourcesContent":["import { useCallback, useEffect, useMemo, VFC } from \"react\";\n\nimport Row from \"../../components/row\";\n\nimport GameContext, { Try } from \"../../store/context/game\";\n\nconst Game: VFC = () => {\n\n  const { data: {\n    fieldSize,\n    field,\n    currentNumber\n  }, setData: setGameData } = GameContext.useContext();\n\n  const onCellClick = (row: number, column: number, field: string[][], lastTry: Try) => {\n      const fieldCopy = field.slice();\n\n      console.log(moves);\n\n\n      const nextNumber = (lastTry?.number) ?\n        Number(fieldCopy[lastTry.row!][lastTry.column!]) + 1 :\n        1;\n\n      fieldCopy[row][column] = nextNumber.toString();\n\n      console.log(fieldCopy, row, column, currentNumber);\n\n      setGameData({\n        field: fieldCopy,\n        moves: moves + 1,\n        lastTry: {\n          row,\n          column,\n          number: nextNumber\n        }\n      });\n  };\n\n  useEffect(() => {\n    const field = Array(fieldSize.width).fill('0').map(() => Array(fieldSize.height).fill('0'));\n\n    setGameData({\n      field,\n      onCellClick\n    });\n  }, [fieldSize]);\n\n\n  const rows = useCallback(() => field.map((row, index) => (\n    <Row key={`row${index}`} content={row} number={index} />))\n    , [field])();\n\n  return (\n    <section>\n      {rows}\n    </section>\n  )\n};\n\nexport default Game;"]},"metadata":{},"sourceType":"module"}