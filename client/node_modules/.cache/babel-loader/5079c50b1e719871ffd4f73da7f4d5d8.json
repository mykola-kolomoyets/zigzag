{"ast":null,"code":"var _jsxFileName = \"/Users/pc/KolomoyetsProjects/Study/project-zigzag/project-zigzag/client/src/views/register/index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\nimport AuthService from '../../api/services/auth';\nimport AppContext from '../../store/context/app';\nimport Input from './../../components/input';\nimport Button from './../../components/button';\nimport Logo from '../../components/logo';\nimport './register.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [nameError, setNameError] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n  const {\n    data: {\n      isLoading\n    },\n    setData: setAppData\n  } = AppContext.useContext();\n  const navigate = useNavigate();\n\n  const onNameChange = event => setName(event.target.value);\n\n  const onEmailChange = event => setEmail(event.target.value);\n\n  const onPasswordChange = event => setPassword(event.target.value);\n\n  const onSubmit = event => {\n    if (event) event.preventDefault();\n    setAppData({\n      isLoading: true\n    });\n    AuthService.register({\n      name: name,\n      email: email,\n      password: password\n    }).then(res => {\n      const {\n        token,\n        user\n      } = res.data;\n      setAppData({\n        user,\n        token\n      });\n    }).then(() => navigate('/login')).catch(err => {\n      console.log(err);\n    }).finally(() => setAppData({\n      isLoading: false\n    }));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"register__container container\",\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"register__content\",\n      children: [/*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"register__title\",\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"register__login\",\n        children: [\"Not registered?\\xA0\", /*#__PURE__*/_jsxDEV(Link, {\n          className: \"register__login--link\",\n          to: \"/login\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: onSubmit,\n        className: \"register__form\",\n        children: [/*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"register__inputs\",\n          children: [/*#__PURE__*/_jsxDEV(Input, {\n            name: \"name\",\n            placeholder: \"Enter name\",\n            value: name,\n            onChange: onNameChange,\n            errorMessage: nameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"email\",\n            placeholder: \"Enter email\",\n            value: email,\n            onChange: onEmailChange,\n            errorMessage: emailError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            name: \"password\",\n            placeholder: \"Enter password\",\n            value: password,\n            onChange: onPasswordChange,\n            errorMessage: passwordError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          disabled: isLoading,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"LBaFwLQKe+GGiDl/zZBStxL95tg=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"sources":["/Users/pc/KolomoyetsProjects/Study/project-zigzag/project-zigzag/client/src/views/register/index.tsx"],"names":["React","useState","useNavigate","Link","AuthService","AppContext","Input","Button","Logo","Register","name","setName","email","setEmail","password","setPassword","nameError","setNameError","emailError","setEmailError","passwordError","setPasswordError","data","isLoading","setData","setAppData","useContext","navigate","onNameChange","event","target","value","onEmailChange","onPasswordChange","onSubmit","preventDefault","register","then","res","token","user","catch","err","console","log","finally"],"mappings":"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","sourcesContent":["import React, { ChangeEvent, FormEvent, useRef, useState, VFC } from 'react';\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport AuthService from '../../api/services/auth';\n\nimport AppContext from '../../store/context/app';\n\nimport Input from './../../components/input';\nimport Button from './../../components/button';\nimport Logo from '../../components/logo';\n\nimport './register.scss';\n\nconst Register: VFC = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const [nameError, setNameError] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  const { data: { isLoading }, setData: setAppData } = AppContext.useContext();\n\n  const navigate = useNavigate();\n\n  const onNameChange = (event: ChangeEvent<HTMLInputElement>) => setName(event.target.value);\n\n  const onEmailChange = (event: ChangeEvent<HTMLInputElement>) => setEmail(event.target.value);\n\n  const onPasswordChange = (event: ChangeEvent<HTMLInputElement>) => setPassword(event.target.value);\n\n  const onSubmit = (event: FormEvent) => {\n    if (event) event.preventDefault();\n\n    setAppData({ isLoading: true });\n\n    AuthService.register({\n      name: name!,\n      email: email!,\n      password: password!\n    })\n    .then(res => {\n      const { token, user } = res.data;\n\n      setAppData({\n        user,\n        token\n      });\n    })\n    .then(() => navigate('/login'))\n    .catch(err => {\n      console.log(err);\n\n    })\n    .finally(() => setAppData({ isLoading: false }));\n  }\n  return (\n    <section className=\"register__container container\">\n      <section className=\"register__content\">\n        <Logo />\n\n        <h2 className='register__title'>Register</h2>\n\n        <section className='register__login'>\n            Not registered?&nbsp;\n            <Link className='register__login--link' to='/login'>Login</Link>\n        </section>\n\n        <form onSubmit={onSubmit} className='register__form'>\n          <section className='register__inputs'>\n            <Input\n              name='name'\n              placeholder='Enter name'\n              value={name}\n              onChange={onNameChange}\n              errorMessage={nameError}\n            />\n\n            <Input\n              name='email'\n              placeholder='Enter email'\n              value={email}\n              onChange={onEmailChange}\n              errorMessage={emailError}\n            />\n\n            <Input\n              name='password'\n              placeholder='Enter password'\n              value={password}\n              onChange={onPasswordChange}\n              errorMessage={passwordError}\n            />\n          </section>\n\n          <Button disabled={isLoading}>\n            Register\n          </Button>\n        </form>\n\n      </section>\n    </section>\n  )\n};\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}