{"version":3,"file":"static/js/741.75ca480c.chunk.js","mappings":"4HAaA,KAAeA,IAAAA,OAAa,CAC1BC,QAZ4BC,+BAa5BC,QAAS,CACP,eAAgB,uB,uFCXCC,GAAAA,EAAAA,EAAAA,IAAAA,SAAAA,KAAAA,EAAAA,EAAAA,GAAAA,KAAAA,MAAAA,EACZC,IAAM,SAACC,GACZ,OAAOC,EAAAA,GAAAA,IAAQ,SAAU,CACvBC,OAAQ,CAAEF,GAAAA,MAHKF,EAOZK,OAAS,SAACH,EAAYI,GAC3B,OAAOH,EAAAA,GAAAA,KAAS,gBAAiB,CAC/BC,OAAQ,CAAEF,GAAAA,GACVI,KAAAA,M,2ECoBN,IACA,EAAe,IAA0B,8D,SCZzC,EAfwB,WACtB,OACE,qBAASC,UAAU,SAAnB,WACE,gBAAKA,UAAU,eAAf,UACE,gBAAKC,IAAKC,EAAUC,IAAI,cAE1B,iBAAKH,UAAU,gBAAf,WACE,SAAC,KAAD,CAAMA,UAAU,eAAeI,GAAG,QAAlC,mBACA,SAAC,KAAD,CAAMJ,UAAU,eAAeI,GAAG,WAAlC,sBACA,SAAC,KAAD,CAAMJ,UAAU,eAAeI,GAAG,SAAlC,4B,oJCJFC,EAAe,WACnB,MAA+CC,EAAAA,EAAAA,aAAvCP,KAAqBJ,EAA7B,EAAgBY,KAAQC,IAAWC,EAAnC,EAAmCA,MAEnC,EAI6BC,EAAAA,EAAAA,aAJrBX,EAAR,EAAQA,KAAR,IAAcA,KAIFY,GAJZ,EACEC,WADF,EAEEC,MAFF,EAGEC,SAHF,EAIGC,SAEH,GAA0BC,EAAAA,EAAAA,UAAqBjB,GAA/C,eAAOkB,EAAP,KAAcC,EAAd,KAEMC,GAAWC,EAAAA,EAAAA,MAuBjB,OArBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAS3B,GAAM4B,aAAaC,QAAQ,UACpCC,EAAYhB,GAASc,aAAaC,QAAQ,aAE3CF,GAAWG,GAAWN,EAAS,UAEpC1B,EAAAA,EAAAA,IAAiB6B,GACdI,MAAK,SAACC,GACLhB,EAAagB,EAAI5B,MACjBmB,EAASS,EAAI5B,SAEd6B,OAAM,SAACC,GACNV,EAAS,eAGZ,CAACxB,KAEJ0B,EAAAA,EAAAA,YAAU,WACRH,EAASnB,KACR,CAACA,KAGF,kBAAMC,UAAU,+BAAhB,WACE,SAAC,IAAD,KAEA,qBAASA,UAAU,mBAAnB,WACE,eAAIA,UAAU,iBAAd,sBAEA,eAAIA,UAAU,oBAAd,+BAEA,qBAASA,UAAU,sBAAnB,WACE,eAAIA,UAAU,4BAAd,mCACA,uBAAIiB,EAAML,iBAGZ,qBAASZ,UAAU,sBAAnB,WACE,eAAIA,UAAU,4BAAd,0BAOA,qBAASA,UAAU,yBAAnB,WACE,eAAIA,UAAU,+BAAd,sBACA,uBAAIiB,EAAMJ,YAGZ,qBAASb,UAAU,yBAAnB,WACE,eAAIA,UAAU,+BAAd,sBACA,yBAAIiB,EAAMH,SAASgB,MAAMC,MAAzB,MAAmCd,EAAMH,SAASgB,MAAME,uBAQpE,GAAeC,EAAAA,EAAAA,MAAK5B","sources":["api/index.ts","api/services/stats.ts","components/navbar/logo-mini.svg","components/navbar/index.tsx","views/profile/index.tsx"],"sourcesContent":["import axios from \"axios\";\n\nconst { REACT_APP_API_URL } = process.env;\n\nexport const defaultHeader = {\n    'Content-type': 'application/json'\n};\n\nexport const AuthHeader = () => ({\n    ...defaultHeader,\n    'Authorization': `Bearer ${localStorage.getItem('AuthToken')}`\n});\n\nexport default axios.create({\n  baseURL: REACT_APP_API_URL,\n  headers: {\n    'Content-type': 'application/json'\n  }\n});\n","import { AxiosResponse } from \"axios\";\nimport { StatsStore } from \"../../utils\";\n\nimport api  from './../';\n\nexport default class StatsService {\n  static get = (id: string): Promise<AxiosResponse<StatsStore>> => {\n    return api.get('/stats', {\n      params: { id }\n    });\n  }\n\n  static update = (id: string, data: Partial<StatsStore>): Promise<AxiosResponse<StatsStore>> => {\n    return api.post('/stats/update', {\n      params: { id },\n      data\n    });\n  }\n}","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogoMini(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 23,\n    height: 35,\n    viewBox: \"0 0 23 35\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0.176346 1.12226C0.621402 0.156776 1.76937 -0.267174 2.7404 0.175338L21.3076 8.63666C22.0044 8.95417 22.4468 9.6508 22.4357 10.4128C22.4245 11.1747 21.9619 11.8583 21.2562 12.1555L7.6377 17.8915L21.0552 21.8752C21.8135 22.1003 22.3574 22.7622 22.4281 23.5459C22.4989 24.3297 22.0822 25.0772 21.3763 25.433L2.80908 34.7918C1.85634 35.272 0.692459 34.8934 0.209475 33.9461C-0.273509 32.9988 0.1073 31.8416 1.06004 31.3613L15.3043 24.1816L1.38116 20.0478C0.599604 19.8157 0.0484683 19.1211 0.00342133 18.3113C-0.0416256 17.5016 0.4291 16.7508 1.18015 16.4344L15.7078 10.3155L1.12871 3.67165C0.157677 3.22914 -0.26871 2.08774 0.176346 1.12226Z\",\n    fill: \"#569AFF\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoMini);\nexport default __webpack_public_path__ + \"static/media/logo-mini.b8e1f42e846f5c873a01b34c72415860.svg\";\nexport { ForwardRef as ReactComponent };","import React, { VFC } from 'react'\nimport { Link } from 'react-router-dom';\n\nimport Logo from '../logo';\n\nimport LogoMini from './logo-mini.svg';\n\nimport './navbar.scss';\n\nconst Navigation: VFC = () => {\n  return (\n    <section className='navbar'>\n      <div className=\"navbar__logo\">\n        <img src={LogoMini} alt=\"ZigZag\" />\n      </div>\n      <nav className='navbar__links'>\n        <Link className='navbar__link' to='/main'>Main</Link>\n        <Link className='navbar__link' to='/profile'>Profile</Link>\n        <Link className='navbar__link' to='/login'>Logout</Link>\n      </nav>\n    </section>\n  );\n};\n\nexport default Navigation;","import { memo, useEffect, useState, VFC } from \"react\";\nimport { useNavigate } from \"react-router\";\n\nimport StatsService from \"../../api/services/stats\";\n\nimport { StatsStore } from \"../../utils\";\n\nimport AppContext from \"../../store/context/app\";\nimport StatsContext from \"../../store/context/stats\";\n\nimport Navigation from \"../../components/navbar\";\n\nimport './profile.scss';\n\nconst Profile: VFC = () => {\n  const { data: { user: { _id: id }, token } } = AppContext.useContext();\n\n  const { data, data: {\n    totalGames,\n    moves,\n    bestGame\n  }, setData: setStatsData } = StatsContext.useContext();\n\n  const [stats, setStats] = useState<StatsStore>(data);\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const userId = id || localStorage.getItem('userId');\n    const authToken = token || localStorage.getItem('AuthToken')\n\n    if (!userId && !authToken) navigate('/login');\n\n    StatsService.get(userId!)\n      .then((res) => {\n        setStatsData(res.data);\n        setStats(res.data);\n      })\n      .catch((err) => {\n        navigate('/login');\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  useEffect(() => {\n    setStats(data);\n  }, [data]);\n\n  return (\n    <main className='profile__container container'>\n      <Navigation />\n\n      <section className='profile__content'>\n        <h1 className='profile__title'>Profile</h1>\n\n        <h3 className='profile__subtitle'>Your statistics:</h3>\n\n        <article className='profile__stats-item'>\n          <h4 className='profile__stats-item_title'>Total games played: </h4>\n          <p>{stats.totalGames}</p>\n        </article>\n\n        <article className='profile__stats-item'>\n          <h4 className='profile__stats-item_title'>Best game: </h4>\n\n          {/* <article>\n            <h5 className='profile__stats-item_subtitle'>Time: </h5>\n            <p>{stats.bestGame.time}</p>\n          </article> */}\n\n          <article className='profile__stats-subitem'>\n            <h5 className='profile__stats-item_subtitle'>Moves: </h5>\n            <p>{stats.moves}</p>\n          </article>\n\n          <article className='profile__stats-subitem'>\n            <h5 className='profile__stats-item_subtitle'>Field: </h5>\n            <p>{stats.bestGame.field.width} x {stats.bestGame.field.height}</p>\n          </article>\n        </article>\n      </section>\n    </main>\n  );\n};\n\nexport default memo(Profile);"],"names":["axios","baseURL","process","headers","StatsService","get","id","api","params","update","data","className","src","LogoMini","alt","to","Profile","AppContext","user","_id","token","StatsContext","setStatsData","totalGames","moves","bestGame","setData","useState","stats","setStats","navigate","useNavigate","useEffect","userId","localStorage","getItem","authToken","then","res","catch","err","field","width","height","memo"],"sourceRoot":""}