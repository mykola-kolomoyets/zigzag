{"version":3,"file":"static/js/671.f34a253d.chunk.js","mappings":"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","sources":["api/index.ts","api/services/auth.ts","components/input/index.tsx","views/register/index.tsx"],"sourcesContent":["import axios from \"axios\";\n\nconst { REACT_APP_API_URL } = process.env;\n\nexport const defaultHeader = {\n    'Content-type': 'application/json'\n};\n\nexport const AuthHeader = () => ({\n    ...defaultHeader,\n    'Authorization': `Bearer ${localStorage.getItem('AuthToken')}`\n});\n\nexport default axios.create({\n  baseURL: REACT_APP_API_URL,\n  headers: {\n    'Content-type': 'application/json'\n  }\n});\n","import { AxiosResponse } from \"axios\";\n\nimport { BaseUser, RegisterUser, RegisterUserResponse, LoginUserResponse, UserData } from '../../types';\n\nimport api  from './../';\n\nexport default class AuthService {\n  static register = (data: RegisterUser): Promise<AxiosResponse<RegisterUserResponse>> => {\n    return api.post('/auth/register', data);\n  }\n\n  static login = (data: BaseUser): Promise<AxiosResponse<LoginUserResponse>> => {\n    return api.post('/auth/login', data);\n  }\n\n  static getUser = (id: string): Promise<AxiosResponse<UserData>> => {\n    return api.get('/auth', {\n      params: { id },\n     });\n  }\n}","import React, { DetailedHTMLProps, InputHTMLAttributes, forwardRef } from 'react';\n\nimport './input.scss';\n\ntype AdditionalInputProps = {\n  errorMessage: string;\n}\n\ntype InputProps =\n  AdditionalInputProps &\n  DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>, HTMLInputElement>;\nconst Input = forwardRef<HTMLInputElement, InputProps>(({\n  name,\n  placeholder,\n  errorMessage,\n  ...props\n}, ref) => {\n  return (\n    <div className='input__container'>\n      <label htmlFor={name} >\n        <p>{placeholder}</p>\n        <input\n          className='input__field'\n          type=\"text\"\n          placeholder={placeholder}\n          ref={ref}\n          {...props}\n        />\n        { errorMessage ? (\n          <span className='input__error'>{ errorMessage }</span>\n        ) : null }\n      </label>\n    </div>\n  )\n})\n\nexport default Input;","import React, { ChangeEvent, FormEvent, useRef, useState, VFC } from 'react';\nimport { useNavigate } from 'react-router';\nimport { Link } from 'react-router-dom';\n\nimport AuthService from '../../api/services/auth';\n\nimport AppContext from '../../store/context/app';\n\nimport Input from './../../components/input';\nimport Button from './../../components/button';\nimport Logo from '../../components/logo';\n\nimport './register.scss';\n\nconst Register: VFC = () => {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const [nameError, setNameError] = useState('');\n  const [emailError, setEmailError] = useState('');\n  const [passwordError, setPasswordError] = useState('');\n\n  const { data: { isLoading }, setData: setAppData } = AppContext.useContext();\n\n  const navigate = useNavigate();\n\n  const onNameChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setName(event.target.value);\n    setNameError('');\n  }\n\n  const onEmailChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setEmail(event.target.value);\n    setEmailError('');\n  }\n\n  const onPasswordChange = (event: ChangeEvent<HTMLInputElement>) => {\n    setPassword(event.target.value);\n    setPasswordError('');\n  }\n\n  const onSubmit = (event: FormEvent) => {\n    if (event) event.preventDefault();\n\n    if (!name) return setNameError('Enter your nickname');\n    if (!email) return setEmailError('Enter your email');\n    if (!password) return setPasswordError('Enter your password');\n\n    setAppData({ isLoading: true });\n\n    AuthService.register({\n      name: name!,\n      email: email!,\n      password: password!\n    })\n    .then(res => {\n      const { token, user } = res.data;\n\n      setAppData({\n        user,\n        token\n      });\n    })\n    .then(() => navigate('/login'))\n    .catch(err => {\n      console.log(err);\n\n    })\n    .finally(() => setAppData({ isLoading: false }));\n  }\n  return (\n    <section className=\"register__container container\">\n      <section className=\"register__content\">\n        <Logo />\n\n        <h2 className='register__title'>Register</h2>\n\n        <section className='register__login'>\n            Not registered?&nbsp;\n            <Link className='register__login--link' to='/login'>Login</Link>\n        </section>\n\n        <form onSubmit={onSubmit} className='register__form'>\n          <section className='register__inputs'>\n            <Input\n              name='name'\n              placeholder='Enter name'\n              value={name}\n              onChange={onNameChange}\n              errorMessage={nameError}\n            />\n\n            <Input\n              name='email'\n              placeholder='Enter email'\n              value={email}\n              onChange={onEmailChange}\n              errorMessage={emailError}\n            />\n\n            <Input\n              name='password'\n              placeholder='Enter password'\n              value={password}\n              onChange={onPasswordChange}\n              errorMessage={passwordError}\n            />\n          </section>\n\n          <Button disabled={isLoading}>\n            Register\n          </Button>\n        </form>\n\n      </section>\n    </section>\n  )\n};\n\nexport default Register;\n"],"names":["axios","baseURL","process","headers","AuthService","register","data","api","login","getUser","id","params","forwardRef","ref","name","placeholder","errorMessage","props","className","htmlFor","type","useState","setName","email","setEmail","password","setPassword","nameError","setNameError","emailError","setEmailError","passwordError","setPasswordError","AppContext","isLoading","setAppData","setData","navigate","useNavigate","to","onSubmit","event","preventDefault","then","res","token","user","catch","err","console","log","finally","value","onChange","target","disabled"],"sourceRoot":""}